{
  "title": "Organizations",
  "name": "orgs",
  "path": "orgs",
  "type": "resource",
  "display": "form",
  "tags": ["Underwriting"],
  "access": [
    {
      "type": "read_all",
      "roles": ["programmer", "staff", "underwriting", "management", "administrator"]
    }
  ],
  "submissionAccess": [
    {
      "type": "read_all",
      "roles": ["programmer", "staff", "underwriting", "management", "administrator"]
    },
    {
      "type": "create_all",
      "roles": ["underwriting", "management", "administrator"]
    },
    {
      "type": "update_all",
      "roles": ["underwriting", "management", "administrator"]
    },
    {
      "type": "delete_all",
      "roles": ["underwriting", "management", "administrator"]
    }
  ],
  "settings": {
    "ui": {
      "alternateTitle": "Organizations",
      "submissionsTitle": "Organizations"
    },
    "tabulatorList": {
      "enabled": true,
      "responsiveLayout": "hide",
      "columns": [
        {
          "field": "data.name",
          "title": "Name",
          "responsive": 0,
          "minWidth": 150,
          "headerFilter": "input"
        },
        {
          "field": "data.orgType",
          "title": "Type",
          "responsive": 1,
          "width": 120
        },
        {
          "field": "data.status",
          "title": "Status",
          "responsive": 1,
          "width": 100
        },
        {
          "field": "data.phone",
          "title": "Phone",
          "responsive": 2,
          "width": 120
        },
        {
          "field": "data.website",
          "title": "Website",
          "responsive": 3,
          "minWidth": 150
        }
      ]
    }
  },
  "components": [
    {
      "label": "Basic Information",
      "key": "basicInfo",
      "type": "panel",
      "input": false,
      "tableView": false,
      "components": [
        {
          "label": "Organization Name",
          "key": "name",
          "type": "textfield",
          "input": true,
          "tableView": true,
          "validate": {
            "required": true
          }
        },
        {
          "label": "Organization Type",
          "key": "orgType",
          "type": "select",
          "widget": "choicesjs",
          "input": true,
          "tableView": true,
          "dataSrc": "values",
          "data": {
            "values": [
              { "label": "Underwriter/Sponsor", "value": "underwriter" },
              { "label": "Community Partner", "value": "partner" },
              { "label": "Vendor/Supplier", "value": "vendor" },
              { "label": "Other", "value": "other" }
            ]
          },
          "defaultValue": "underwriter",
          "validate": {
            "required": true
          }
        },
        {
          "label": "On-Air Name",
          "key": "onAirName",
          "type": "textfield",
          "input": true,
          "tableView": true,
          "description": "How to announce this organization on-air (if different from legal name)"
        },
        {
          "label": "Status",
          "key": "status",
          "type": "select",
          "widget": "choicesjs",
          "input": true,
          "tableView": true,
          "dataSrc": "values",
          "data": {
            "values": [
              { "label": "Prospect", "value": "prospect" },
              { "label": "Active", "value": "active" },
              { "label": "Inactive", "value": "inactive" },
              { "label": "Do Not Contact", "value": "do_not_contact" }
            ]
          },
          "defaultValue": "prospect"
        }
      ]
    },
    {
      "label": "Contact Information",
      "key": "contactInfo",
      "type": "panel",
      "input": false,
      "tableView": false,
      "components": [
        {
          "label": "Phone",
          "key": "phone",
          "type": "phoneNumber",
          "input": true,
          "tableView": true
        },
        {
          "label": "Website",
          "key": "website",
          "type": "url",
          "input": true,
          "tableView": true
        },
        {
          "label": "Physical Address",
          "key": "physicalAddress",
          "type": "textarea",
          "input": true,
          "tableView": false,
          "rows": 3
        }
      ]
    },
    {
      "label": "Billing Information",
      "key": "billingInfo",
      "type": "panel",
      "input": false,
      "tableView": false,
      "components": [
        {
          "label": "Billing Address",
          "key": "billingAddress",
          "type": "textarea",
          "input": true,
          "tableView": false,
          "rows": 3,
          "description": "Leave blank if same as physical address"
        },
        {
          "label": "Billing Email",
          "key": "billingEmail",
          "type": "email",
          "input": true,
          "tableView": true,
          "description": "Where to send invoices"
        },
        {
          "label": "Billing Contact Name",
          "key": "billingContactName",
          "type": "textfield",
          "input": true,
          "tableView": false
        }
      ]
    },
    {
      "label": "Internal Notes",
      "key": "notes",
      "type": "textarea",
      "editor": "ckeditor",
      "input": true,
      "inputFormat": "html",
      "tableView": false,
      "description": "Internal notes (not visible to organization)"
    },
    {
      "label": "Submit",
      "key": "submit",
      "type": "button",
      "action": "submit",
      "theme": "primary",
      "input": true
    }
  ]
}
