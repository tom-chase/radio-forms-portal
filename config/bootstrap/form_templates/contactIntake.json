{
  "title": "Contact Intake",
  "name": "contactIntake",
  "path": "contactintake",
  "type": "form",
  "display": "form",
  "tags": ["public", "intake"],
  "access": [
    {
      "type": "read_all",
      "roles": ["anonymous", "authenticated", "staff", "management", "administrator"]
    }
  ],
  "submissionAccess": [
    {
      "type": "create_own",
      "roles": ["anonymous"]
    },
    {
      "type": "read_all",
      "roles": ["staff", "underwriting", "management", "administrator"]
    },
    {
      "type": "update_all",
      "roles": ["staff", "underwriting", "management", "administrator"]
    },
    {
      "type": "delete_all",
      "roles": ["management", "administrator"]
    }
  ],
  "components": [
    {
      "label": "Contact Information",
      "key": "contactInfo",
      "type": "panel",
      "hideLabel": true,
      "input": false,
      "tableView": false,
      "components": [
        {
          "label": "First Name",
          "key": "firstName",
          "type": "textfield",
          "input": true,
          "tableView": true,
          "validate": {
            "required": true
          }
        },
        {
          "label": "Last Name",
          "key": "lastName",
          "type": "textfield",
          "input": true,
          "tableView": true,
          "validate": {
            "required": true
          }
        },
        {
          "label": "Email",
          "key": "email",
          "type": "email",
          "input": true,
          "tableView": true,
          "validate": {
            "required": true
          }
        },
        {
          "label": "Phone",
          "key": "phone",
          "type": "phoneNumber",
          "input": true,
          "tableView": true
        },
        {
          "label": "Organization",
          "key": "organization",
          "type": "textfield",
          "input": true,
          "tableView": true,
          "description": "Your company or organization name"
        }
      ]
    },
    {
      "label": "Message",
      "key": "message",
      "type": "textarea",
      "input": true,
      "tableView": false,
      "rows": 5,
      "description": "Tell us about your interest in sponsoring or partnering with us"
    },
    {
      "label": "Source",
      "key": "source",
      "type": "hidden",
      "input": true,
      "tableView": false,
      "defaultValue": "website"
    },
    {
      "label": "Honeypot",
      "key": "honeypot",
      "type": "textfield",
      "input": true,
      "tableView": false,
      "customClass": "d-none",
      "description": "Leave this field blank"
    },
    {
      "label": "Submit",
      "key": "submit",
      "type": "button",
      "action": "submit",
      "theme": "primary",
      "input": true
    }
  ],
  "settings": {
      "ui": {
          "submissionsTitle": "Contact Intake List"
      },
      "tabulatorList": {
          "enabled": true,
          "layout": "fitColumns",
          "height": "60vh",
          "pagination": "local",
          "paginationSize": 25,
          "movableColumns": true,
          "placeholder": "No Contact Intake found.",
          "dataTransform": "contactIntakeDataTransform",
          "columns": [
             {
                "title": "First Name",
                "field": "data.firstName",
                "headerFilter": "input",
                "minWidth": 70
             },
             {
                "title": "Last Name",
                "field": "data.lastName",
                "headerFilter": "input",
                "minWidth": 70
              },
              {
                  "title": "Organization",
                  "field": "data.organization",
                  "headerFilter": "input",
                  "minWidth": 120
              },
              {
                  "title": "Email",
                  "field": "data.email",
                  "width": 80,
                  "headerFilter": "input"
              }
          ]
      },
      "saveDraft": true,
      "saveDraftThrottle": 3000
  }
}
